(this["webpackJsonpclose-to-2"]=this["webpackJsonpclose-to-2"]||[]).push([[0],{66:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(38),a=n(12),i=n(85),o=n(87),s=n(81),l=n(2),u=function(e){var t=e.countDowntime;return Object(l.jsxs)(o.a,{m:2,fontSize:"1.8rem",children:[Object(l.jsx)(s.a,{style:{paddingRight:"5px"}}),Object(l.jsx)(l.Fragment,{children:t})]})},j=n(83),b=function(e){var t=e.correctAnswerCount;return Object(l.jsxs)(o.a,{m:2,fontSize:"1.8rem",children:[Object(l.jsx)(j.a,{}),Object(l.jsx)(l.Fragment,{children:"\uff1a".concat(t)})]})},d=n(84),f=function(e){var t=e.isAnswerDisplay,n=e.isLastAnswerCorrect;return Object(l.jsxs)(d.a,{children:[t&&n&&"\u6b63\u89e3\uff01",t&&!n&&"\u4e0d\u6b63\u89e3...",!t&&"\u4e00\u756a\u300c2\u300d\u306b\u8fd1\u3044\u5f0f\u306f\u3069\u308c\u304b\u306a\uff1f"]})},O=function(e){var t=e.countDowntime,n=e.correctAnswerCount,c=e.isAnswerDisplay,r=e.isLastAnswerCorrect;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(o.a,{display:"flex",children:[Object(l.jsx)(u,{countDowntime:t}),Object(l.jsx)(b,{correctAnswerCount:n})]}),Object(l.jsx)(f,{isAnswerDisplay:c,isLastAnswerCorrect:r})]})},h=n(89),m=n(33),x=n.n(m),p=n(41),C=n.n(p),A=n(39),w=n.n(A),y=n(40),D=n.n(y),R=[w.a[800],D.a[500],x.a[600],C.a[500]],k={EN_WORD:"easy",JP_WORD:"\u521d\u7d1a",FORMULA_PARTS_COUNT:2},g={EN_WORD:"normal",JP_WORD:"\u4e2d\u7d1a",FORMULA_PARTS_COUNT:3},v={EN_WORD:"hard",JP_WORD:"\u4e0a\u7d1a",FORMULA_PARTS_COUNT:5},_=function(e){var t=e.index,n=e.formula,c=e.isCorrect,r=e.onClickAction;return Object(l.jsx)(h.a,{variant:"contained",style:{width:"".concat(250,"px"),color:"white",backgroundColor:R[t]},onClick:function(){return r(c)},children:n})},T=function(e){var t=e.calcResult,n=e.abs,c=e.isCorrect;return Object(l.jsx)(d.a,{align:"center",children:"".concat(t," \u2192 2\u307e\u3067").concat(n," ").concat(c?"\u3007":"\xd7")})},S=function(e){var t=e.index,n=e.calcResult,c=e.formula,r=e.abs,a=e.isCorrect,i=e.isAnswerDisplay,s=e.handleAnswer;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(_,{index:t,formula:c,isCorrect:a,onClickAction:s}),Object(l.jsx)(o.a,{height:20,children:i&&Object(l.jsx)(T,{calcResult:n,abs:r,isCorrect:a})})]})},F=function(e){var t=e.formulaData,n=e.isAnswerDisplay,c=e.handleAnswer;return Object(l.jsx)(o.a,{children:t.map((function(e,t){return Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(S,{index:t,calcResult:e.calcResult,formula:e.formula,abs:e.abs,isCorrect:e.isCorrect,isAnswerDisplay:n,handleAnswer:c})},e.formula)}))})},I=n(90),L=n(88),M=function(e){var t=e.difficultyInfo,n=e.onClickAction;return Object(l.jsxs)(l.Fragment,{children:["easy"===t.EN_WORD&&Object(l.jsx)(h.a,{variant:"contained",style:{color:"white",backgroundColor:x.a[600]},onClick:function(){return n(t.EN_WORD)},children:"".concat(t.JP_WORD,"\uff08\u6570\u5024").concat(t.FORMULA_PARTS_COUNT,"\u3064\uff09")}),("normal"===t.EN_WORD||"hard"===t.EN_WORD)&&Object(l.jsx)(h.a,{variant:"contained",color:"normal"===t.EN_WORD?"primary":"secondary",onClick:function(){return n(t.EN_WORD)},children:"".concat(t.JP_WORD,"\uff08\u6570\u5024").concat(t.FORMULA_PARTS_COUNT,"\u3064\uff09")})]})},N=function(e){var t=e.open,n=e.handleSelectDifficulty;return Object(l.jsx)(L.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,closeAfterTransition:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(l.jsx)(I.a,{in:t,children:Object(l.jsxs)(o.a,{p:4,width:400,bgcolor:"background.paper",boxShadow:3,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(l.jsx)("h2",{id:"transition-modal-title",children:"\u96e3\u6613\u5ea6\u9078\u629e"}),Object(l.jsx)("p",{id:"transition-modal-description",children:"\u96e3\u6613\u5ea6\u306b\u5fdc\u3058\u3066\u3001\u5f0f\u304c\u9577\u304f\u306a\u308a\u307e\u3059"}),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(M,{difficultyInfo:k,onClickAction:n})}),Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(M,{difficultyInfo:g,onClickAction:n})}),Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(M,{difficultyInfo:v,onClickAction:n})})]})]})})})},W=n(91),P=n(92),U=function(e){var t=e.text,n=e.onClickAction;return Object(l.jsx)(h.a,{onClick:n,variant:"contained",color:"secondary",children:t})},E=function(e){var t=e.open,n=e.diffculty,c=e.correctAnswerCount,r=e.handleRestart;return Object(l.jsx)(L.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,closeAfterTransition:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(l.jsx)(I.a,{in:t,children:Object(l.jsxs)(o.a,{p:4,width:400,bgcolor:"background.paper",boxShadow:3,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(l.jsx)("h2",{id:"transition-modal-title",children:"".concat(n," ").concat(c,"\u56de\u6b63\u89e3\uff01")}),Object(l.jsx)("p",{id:"transition-modal-description",children:"\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u30fc"}),Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(W.a,{url:"https://h-yoshikawa44.github.io/close-to-2",title:"".concat(n," - ").concat(c,"\u56de\u6b63\u89e3\uff01"),hashtags:["close_to_2","web1week"],children:Object(l.jsx)(P.a,{size:40,borderRadius:10})})}),Object(l.jsx)(o.a,{p:2,children:Object(l.jsx)(U,{text:"\u518d\u30c1\u30e3\u30ec\u30f3\u30b8",onClickAction:r})})]})})})},J=function(e){var t=e.countDownTime,n=e.diffcultyInfo,c=e.formulaData,r=e.correctAnswerCount,a=e.isAnswerDisplay,s=e.isLastAnswerCorrect,u=e.difficultyModalOpen,j=e.completeModalOpen,b=e.handleAnswer,d=e.handleSelectDifficulty,f=e.handleRestart;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i.a,{maxWidth:"sm",children:Object(l.jsxs)(o.a,{p:4,my:1,boxShadow:3,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(l.jsx)(O,{countDowntime:t,correctAnswerCount:r,isAnswerDisplay:a,isLastAnswerCorrect:s}),Object(l.jsx)(F,{formulaData:c,isAnswerDisplay:a,handleAnswer:b})]})}),Object(l.jsx)(N,{open:u,handleSelectDifficulty:d}),Object(l.jsx)(E,{open:j,diffculty:n.JP_WORD,correctAnswerCount:r,handleRestart:f})]})},z=function(e){var t=Object(c.useState)(e),n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(c.useRef)(),s=Object(c.useCallback)((function(){i((function(e){return e-1}))}),[]);return{countDownTime:r,startTimer:Object(c.useCallback)((function(){o.current=setInterval(s,1e3)}),[s]),stopTimer:Object(c.useCallback)((function(){o.current&&clearInterval(o.current)}),[]),resetTimer:Object(c.useCallback)((function(){i(e)}),[e])}},B=function(){var e=Object(c.useState)(k),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),o=Object(a.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(0),j=Object(a.a)(u,2),b=j[0],d=j[1],f=Object(c.useState)(0),O=Object(a.a)(f,2),h=O[0],m=O[1],x=Object(c.useState)(!1),p=Object(a.a)(x,2),C=p[0],A=p[1],w=Object(c.useState)(!1),y=Object(a.a)(w,2),D=y[0],R=y[1],_=Object(c.useCallback)((function(e,t){return Math.floor(Math.random()*Math.floor(t+1-e)+e)}),[]),T=Object(c.useCallback)((function(){return{operator:_(1,100)%2===0?"+":"-",num:_(-99,99)}}),[_]),S=Object(c.useCallback)((function(e){for(var t=_(1,100),n=String(t),c=1;c<=e;c+=1){var r=T();"+"===r.operator?(t+=r.num,n+=r.num<0?" + (".concat(r.num,")"):" + ".concat(r.num)):"-"===r.operator?(t-=r.num,n+=r.num<0?" - (".concat(r.num,")"):" - ".concat(r.num)):console.log("invalid operator error")}return{calcResult:t,formula:n,abs:Math.abs(t-2),isCorrect:!1}}),[_,T]),F=Object(c.useCallback)((function(e){var t=e.map((function(e){return e.abs}));return Array.from(new Set(t)).length<4}),[]),I=Object(c.useCallback)((function(e){var t=e.map((function(e){return e.abs})).reduce((function(e,t){return Math.min(e,t)}));return e.map((function(e){var n=e;return n.isCorrect=e.abs===t,n}))}),[]),L=Object(c.useCallback)((function(){var e,t=n.FORMULA_PARTS_COUNT-1;do{e=[];for(var c=1;c<=4;c+=1)e.push(S(t))}while(F(e));l(I(e))}),[n.FORMULA_PARTS_COUNT,S,F,I]),M=Object(c.useCallback)((function(e){e?(m((function(e){return e+1})),R(!0)):R(!1)}),[]);Object(c.useEffect)((function(){L()}),[n,b,L]);var N=Object(c.useCallback)((function(e){switch(e){case"easy":r(k);break;case"normal":r(g);break;case"hard":r(v);break;default:console.log("invalid diffculty error")}}),[]),W=Object(c.useCallback)((function(){d(0),m(0)}),[]),P=Object(c.useCallback)((function(e){M(e),A(!0),setTimeout((function(){A(!1),d((function(e){return e+1}))}),1200)}),[M]);return{diffcultyInfo:n,formulaData:s,correctAnswerCount:h,isAnswerDisplay:C,isLastAnswerCorrect:D,selectDiffculty:N,resetAnswerCount:W,handleAnswer:P}},q=function(){var e=z(30),t=e.countDownTime,n=e.startTimer,r=e.stopTimer,i=e.resetTimer,o=B(),s=o.diffcultyInfo,u=o.formulaData,j=o.correctAnswerCount,b=o.isAnswerDisplay,d=o.isLastAnswerCorrect,f=o.selectDiffculty,O=o.resetAnswerCount,h=o.handleAnswer,m=Object(c.useState)(!0),x=Object(a.a)(m,2),p=x[0],C=x[1],A=Object(c.useState)(!1),w=Object(a.a)(A,2),y=w[0],D=w[1];Object(c.useEffect)((function(){0===t&&(r(),D(!0))}),[t,r]);return Object(l.jsx)(J,{countDownTime:t,diffcultyInfo:s,formulaData:u,correctAnswerCount:j,isAnswerDisplay:b,isLastAnswerCorrect:d,difficultyModalOpen:p,completeModalOpen:y,handleAnswer:h,handleSelectDifficulty:function(e){f(e),C(!1),n()},handleRestart:function(){D(!1),i(),O(),C(!0)}})},G=function(){return Object(l.jsx)(q,{})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};Object(r.render)(Object(l.jsx)(G,{}),document.getElementById("root")),H()}},[[66,1,2]]]);
//# sourceMappingURL=main.2c6210a6.chunk.js.map