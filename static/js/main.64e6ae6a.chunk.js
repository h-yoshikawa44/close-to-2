(this["webpackJsonpclose-to-2"]=this["webpackJsonpclose-to-2"]||[]).push([[0],{66:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(37),r=n(11),i=n(86),a=n(88),s="PLUS",l="MINUS",O="\u521d\u7d1a",d="\u4e2d\u7d1a",u="\u4e0a\u7d1a",j=n(82),b=n(2),_=function(t){var e=t.countDowntime;return Object(b.jsxs)(a.a,{m:2,fontSize:"1.8rem",children:[Object(b.jsx)(j.a,{style:{paddingRight:"5px"}}),Object(b.jsx)(b.Fragment,{children:e})]})},S=n(84),T=function(t){var e=t.correctAnswerCount;return Object(b.jsxs)(a.a,{m:2,fontSize:"1.8rem",children:[Object(b.jsx)(S.a,{}),Object(b.jsx)(b.Fragment,{children:"\uff1a".concat(e)})]})},A=n(85),f=function(t){var e=t.answerDisplay,n=t.lastAnswerCorrect;return Object(b.jsxs)(A.a,{children:[e&&n&&"\u6b63\u89e3\uff01",e&&!n&&"\u4e0d\u6b63\u89e3...",!e&&"\u4e00\u756a\u300c2\u300d\u306b\u8fd1\u3044\u5f0f\u306f\u3069\u308c\u304b\u306a\uff1f"]})},x=function(t){var e=t.countDowntime,n=t.correctAnswerCount,c=t.answerDisplay,o=t.lastAnswerCorrect;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(a.a,{display:"flex",children:[Object(b.jsx)(_,{countDowntime:e}),Object(b.jsx)(T,{correctAnswerCount:n})]}),Object(b.jsx)(f,{answerDisplay:c,lastAnswerCorrect:o})]})},C=n(90),E=n(42),h=n.n(E),R=n(43),p=n.n(R),m=n(33),D=n.n(m),v=n(44),P=n.n(v),w=function(t){var e=t.index,n=t.formula,c=t.onClickAction,o=[h.a[800],p.a[500],D.a[600],P.a[500]];return Object(b.jsx)(C.a,{variant:"contained",style:{width:Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BUTTON_WIDTH,color:"white",backgroundColor:o[e]},onClick:function(){return c(e)},children:n})},y=function(t){var e=t.index,n=t.calcResult,c=t.abs,o=t.correctAnswerIndex;return Object(b.jsx)(A.a,{align:"center",children:"".concat(n," \u2192 2\u307e\u3067").concat(c," ").concat(e===o?"\u3007":"\xd7")})},U=function(t){var e=t.index,n=t.calcResult,c=t.formula,o=t.abs,r=t.answerDisplay,i=t.correctAnswerIndex,s=t.handleAnswerAction;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{index:e,formula:c,onClickAction:s}),Object(b.jsx)(a.a,{height:20,children:r&&Object(b.jsx)(y,{index:e,calcResult:n,abs:o,correctAnswerIndex:i})})]})},F=function(t){var e=t.buttonFormulaData,n=t.answerDisplay,c=t.correctAnswerIndex,o=t.handleAnswerAction;return e.map((function(t,e){return Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(U,{index:e,calcResult:t.calcResult,formula:t.formula,abs:t.abs,answerDisplay:n,correctAnswerIndex:c,handleAnswerAction:o})},t.formula)}))},g=n(89),N=n(92),H=function(t){var e=t.difficulty,n=t.onClickAction;return Object(b.jsxs)(b.Fragment,{children:[e===O&&Object(b.jsx)(C.a,{variant:"contained",style:{color:"white",backgroundColor:D.a[600]},onClick:function(){return n(e)},children:"".concat(O,"\uff08\u6570\u5024").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EASY_FORMULA_PARTS_COUNT,"\u3064\uff09")}),(e===d||e===u)&&Object(b.jsx)(C.a,{variant:"contained",color:e===d?"primary":"secondary",onClick:function(){return n(e)},children:e===d?"".concat(d,"\uff08\u6570\u5024").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NORMAL_FORMULA_PARTS_COUNT,"\u3064\uff09"):"".concat(u,"\uff08\u6570\u5024").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HARD_FORMULA_PARTS_COUNT,"\u3064\uff09")})]})},W=function(t){var e=t.open,n=t.handleSelectDifficultyAction;return Object(b.jsx)(g.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e,closeAfterTransition:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(N.a,{in:e,children:Object(b.jsxs)(a.a,{p:4,width:400,bgcolor:"background.paper",boxShadow:3,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(b.jsx)("h2",{id:"transition-modal-title",children:"\u96e3\u6613\u5ea6\u9078\u629e"}),Object(b.jsx)("p",{id:"transition-modal-description",children:"\u96e3\u6613\u5ea6\u306b\u5fdc\u3058\u3066\u3001\u5f0f\u304c\u9577\u304f\u306a\u308a\u307e\u3059"}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(H,{difficulty:O,onClickAction:n})}),Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(H,{difficulty:d,onClickAction:n})}),Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(H,{difficulty:u,onClickAction:n})})]})]})})})},I=n(91),K=n(93),L=function(t){var e=t.text,n=t.onClickAction;return Object(b.jsx)(C.a,{onClick:n,variant:"contained",color:"secondary",children:e})},k=function(t){var e=t.open,n=t.diffculty,c=t.correctAnswerCount,o=t.handleRestartAction;return Object(b.jsx)(g.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e,closeAfterTransition:!0,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(N.a,{in:e,children:Object(b.jsxs)(a.a,{p:4,width:400,bgcolor:"background.paper",boxShadow:3,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(b.jsx)("h2",{id:"transition-modal-title",children:"".concat(n," ").concat(c,"\u56de\u6b63\u89e3\uff01")}),Object(b.jsx)("p",{id:"transition-modal-description",children:"\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u30fc"}),Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(I.a,{url:"https://h-yoshikawa0724.github.io/close-to-2",title:"".concat(n," - ").concat(c,"\u56de\u6b63\u89e3\uff01"),hashtags:["close_to_2","web1week"],children:Object(b.jsx)(K.a,{size:40,borderRadius:10})})}),Object(b.jsx)(a.a,{p:2,children:Object(b.jsx)(L,{text:"\u518d\u30c1\u30e3\u30ec\u30f3\u30b8",onClickAction:o})})]})})})},B=function(){var t=Object(c.useState)(30),e=Object(r.a)(t,2),n=e[0],o=e[1],j=Object(c.useState)(0),_=Object(r.a)(j,2),S=_[0],T=_[1],A=Object(c.useState)(O),f=Object(r.a)(A,2),C=f[0],E=f[1],h=Object(c.useState)(1),R=Object(r.a)(h,2),p=R[0],m=R[1],D=Object(c.useState)([]),v=Object(r.a)(D,2),P=v[0],w=v[1],y=Object(c.useState)(-1),U=Object(r.a)(y,2),g=U[0],N=U[1],H=Object(c.useState)(0),I=Object(r.a)(H,2),K=I[0],L=I[1],B=Object(c.useState)(0),M=Object(r.a)(B,2),V=M[0],z=M[1],J=Object(c.useState)(!0),Y=Object(r.a)(J,2),q=Y[0],G=Y[1],Q=Object(c.useState)(!1),X=Object(r.a)(Q,2),Z=X[0],$=X[1],tt=Object(c.useState)(!1),et=Object(r.a)(tt,2),nt=et[0],ct=et[1],ot=Object(c.useState)(!1),rt=Object(r.a)(ot,2),it=rt[0],at=rt[1],st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*Math.floor(t)+e)},lt=function(t){for(var e=st(100),n=String(e),c=1;c<=t;c+=1){var o={operator:st(100,1)%2===0?s:l,num:st(199,-99)};o.operator===s?(e+=o.num,n+=o.num<0?" + (".concat(o.num,")"):" + ".concat(o.num)):o.operator===l?(e-=o.num,n+=o.num<0?" - (".concat(o.num,")"):" - ".concat(o.num)):console.log("error")}return{calcResult:e,formula:n,abs:Math.abs(e-2)}},Ot=function(t){var e=t.map((function(t){return t.abs}));return Array.from(new Set(e)).length<Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BUTTON_COUNT},dt=function(){var t,e=p-1;do{t=[];for(var n=1;n<=Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BUTTON_COUNT;n+=1)t.push(lt(e))}while(Ot(t));!function(t){var e=t.map((function(t,e){return{originalIndex:e,abs:t.abs}}));e.sort((function(t,e){return t.abs<e.abs?-1:1})),N(e[0].originalIndex)}(t),w(t)};Object(c.useEffect)((function(){dt()}),[p,K]),Object(c.useEffect)((function(){0===n&&(clearInterval(S),at(!0))}),[n]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{maxWidth:"sm",children:Object(b.jsxs)(a.a,{p:4,my:1,boxShadow:3,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(b.jsx)(x,{countDowntime:n,correctAnswerCount:V,answerDisplay:Z,lastAnswerCorrect:nt}),Object(b.jsx)(F,{buttonFormulaData:P,answerDisplay:Z,correctAnswerIndex:g,handleAnswerAction:function(t){!function(t){t===g?(z((function(t){return t+1})),ct(!0)):ct(!1)}(t),$(!0),setTimeout((function(){$(!1),L((function(t){return t+1}))}),1200)}})]})}),Object(b.jsx)(W,{open:q,handleSelectDifficultyAction:function(t){!function(t){switch(E(t),t){case O:m(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EASY_FORMULA_PARTS_COUNT);break;case d:m(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NORMAL_FORMULA_PARTS_COUNT);break;case u:m(Object({NODE_ENV:"production",PUBLIC_URL:"/close-to-2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HARD_FORMULA_PARTS_COUNT);break;default:console.log("error")}}(t),G(!1),T(setInterval((function(){o((function(t){return t-1}))}),1e3))}}),Object(b.jsx)(k,{open:it,diffculty:C,correctAnswerCount:V,handleRestartAction:function(){at(!1),o(30),z(0),G(!0)}})]})},M=function(){return Object(b.jsx)(B,{})};Object(o.render)(Object(b.jsx)(M,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.64e6ae6a.chunk.js.map